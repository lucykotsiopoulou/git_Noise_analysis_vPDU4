#!/usr/bin/gnuplot -persist
#Opened gnuplot programme in terminal

#For each NEW plot: 4 things to fix

#-----------------Plotting----------------------
#Plot first main diagrams and fix titles


set datafile separator ', '
#----------For one tile
plot "FFT-run763-chan0.txt" u 1:2 w l t "Tile 1" lc "dark-turquoise" #Tile 1
replot "FFT-run764-chan0.txt" u 1:2 w l t "Tile 2" lc "royalblue" #Tile 2
replot "FFT-run788-chan0.txt" u 1:2 w l t "Tile 1 and 2" lc "purple" #Tile 1and2

#-----------Overlaying
#Tiles 1 and 2
#plot "FFT-run763-chan0.txt" u 1:2 w l t "Tile 1" lc "dark-turquoise" #Tile 1
#replot "FFT-run764-chan0.txt" u 1:2 w l t "Tile 2" lc "royalblue" #Tile 2
#plot "FFT-run788-chan0.txt" u 1:2 w l t "Tile 1 and 2" lc "purple" #Tile 1and2

#Tiles 1,2,3
plot "FFT-run763-chan0.txt" u 1:2 w l t "Tile 1" lc "dark-turquoise" #Tile 1
replot "FFT-run764-chan0.txt" u 1:2 w l t "Tile 2" lc "royalblue" #Tile 2
765"web-blue" # Tile 3
replot "FFT-run789-chan0.txt" u 1:2 w l t "Tile 1 and 2 and 3" lc "slateblue1" #Tile 1and2and3

#--------------Calculation plots
#REMEMBER TO CHANGE "set datafile separator ','"
#set datafile separator "\t"
#replot "alltiles12_quadrant1.txt" u 1:($6-$2)  w l t "Tiles 1and2 - Tile 1" lc "plum" #Tile 1and2 - Tile1
#replot "alltiles12_quadrant1.txt" u 1:($6-$4)  w l t "Tiles 1and2 - Tile 2" lc "dark-pink" #Tile 1and2 - Tile2

#plot "alltiles12_quadrant1.txt" u 1:($4-$2)  w l t "Tile 2 - Tile 1" lc "violet" #Tile 1and2 - Tile1

#---------------Manually averaged plots
#plot "alltiles12_quadrant1.txt" u 1:6 w l t "Tiles 1 and 2" lc "purple", "" u 1:($2+$4)/2 w l t "(Tile 1 + Tile 2)/2" lc "sienna1"

#----------Graphic art---------------
set title "COLD Noise | Quadrant 1 tiles"
set xlabel "Frequency [MHz]"
set ylabel "Intensity [dBm/Hz]"
replot

#-------------------Saving---------------------
#Save plots in folder 
#set term png
#set output "noise_tile2.png"
#set output "noise_tile1and2.png"

#set output "noise_overlay_tile2_tile1and2.png"

#set output "noise_overlay_tile1and2_minus_tile12.png"
#set output "noise_overlay_tile2_minus_tile1.png"

#set output "noise_overlay_tile1and2_avg_tile1_tile2.png"

#replot
#set term x11


#-------------Calculating ratios between maxima spikes-----------------------
# Define two helper functions
#ismin(x) = (x<min)?min=x:-165
#ismax(x) = (x>max)?max=x:-110

# Initialise the 'global' vars
#max=-110
#min=-165

# Run through the data and pass it to the helper functions.
# Any expression for the 'using' will do, as long as it contains both
# helper functions
#set xrange [15:28]

#-------------
#wc -l alltiles12_quadrant1.txt -> 499999 alltiles12_quadrant1.txt
#----------------

#plot "< tail -n +100000 alltiles12_quadrant1.txt" u 5:6 w lines

#plot "< tail -n +100000 alltiles12_quadrant1.txt" u 5:(ismin($6)*ismax($6))

# Now, max and min will hold the maximum and minimum of column 0 of
# your data

#print "Max for Tiles 1and2 is: ", max
#print "Min for Tiles 1and2 is: ", min


exit

